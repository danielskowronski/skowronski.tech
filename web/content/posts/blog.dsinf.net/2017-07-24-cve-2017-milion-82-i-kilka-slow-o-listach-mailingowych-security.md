---
title: CVE 2017-milion-82 i kilka s贸w o listach mailingowych security
author: Daniel Skowroski
type: post
date: 2017-07-24T07:59:15+00:00
excerpt: 'Fartem bo fartem ale zostaem odnotowany jako osoba zgaszajca CVE 2017-1000082 kt贸re udowadnia 偶e "systemd is not safe to run on a security critical machine. The developers are simply too lax about safety" (~Perry E. Metzger) bowiem kiedy wpadniemy na pomys utworzenia usugi odpalanej przez zgodnego z POSIX u偶ytkownika o nazwie zaczynajcej si cyfr (lub co odkryto p贸藕niej - zawierajcego znak unicode) to systemd zfailbackuje do... roota. Bez zgasznia tego faktu najmniejszym warningiem. A to ju偶 otwarte gwacenie bezpieczestwa.'
url: /2017/07/cve-2017-milion-82-i-kilka-slow-o-listach-mailingowych-security/
featured_image: https://blog.dsinf.net/wp-content/uploads/2017/07/systemd_xd-660x486.jpg
tags:
  - CVE 2017-1000082
  - security

---
Fartem bo fartem ale zostaem odnotowany jako osoba zgaszajca **CVE 2017-1000082** kt贸re udowadnia 偶e &#8222;systemd is not safe to run on a security critical machine. The developers are simply too lax about safety&#8221; (~Perry E. Metzger) bowiem kiedy wpadniemy na pomys utworzenia usugi odpalanej przez**zgodnego z POSIX**u偶ytkownika o nazwie zaczynajcej si cyfr (lub co odkryto p贸藕niej &#8211; zawierajcego znak unicode) to systemd zfailbackuje do&#8230; roota. Bez zgaszania tego faktu najmniejszym warningiem. A to ju偶 otwarte gwacenie bezpieczestwa.

Rzeczony numerek CVE zosta nadany po zwizej g贸wnoburzy na mailinglicie **oss-security** na kt贸r wrzuciem linka (<http://www.openwall.com/lists/oss-security/2017/07/02/1>) do zamknitej &#8222;w obawie przed trollami&#8221; dyskusji na githubie &#8211; <https://github.com/systemd/systemd/issues/6237>; samo CVE zyskao severity 9.8 lub 10.0 wedle starych zasad&#8211; <https://nvd.nist.gov/vuln/detail/CVE-2017-1000082>&#8211; czyli gro藕nie.

Ten bd nienale偶y do kategorii zabijajcych wszystko na swojej drodze jak heartbleed czy shellshock ze zdalnym wykonaniem kodu jako root. Nie nale偶y te偶 do prostych w odkrywaniu przepenie bufora. Nale偶y do bardziej finezyjnej grupy bd贸w logicznych i niespodziewanych zachowa. Kiedy mielimy tylko problem zcyfr na pocztku to mogo si okaza 偶e przeprowadzajc audyt oprogramowania wpuszczanego na nasz serwer wraz z dostarczonym gotowcem &#8211; plikiem <span class="lang:default EnlighterJSRAW crayon-inline ">.service</span>, uznalimy 偶e jakich ogromnych szk贸d nie narobi a tu bum! &#8211; jakim cudem software zyska prawa roota. Ale znaki unicode w erzeUTF-8 pchanego nawet do nazw domenowych to zagro偶enie jeszcze gorsze. Poza omykowym daniem komu roota (chocia偶by nazwisko z krzaczkami) tootwiera si na nowo puszka pandory z paska URL &#8211;<https://sekurak.pl/spoofing-paska-adresu-w-chromie-i-firefoksie-czyli-opis-cve-2017-5089-i-cve-2017-7763/>,<https://sekurak.pl/nietypowe-metody-wykorzystywane-w-atakach-phishingowych/>&#8230;

Co do mailinglist &#8211; polecam osobicie subskrypcj:

  * **oss-security** &#8211;<http://www.openwall.com/lists/oss-security/>  
    Zawiera dyskusje caej spoecznoci OpenSource o podatnociach w otwarto藕r贸dowym oprogramowaniu, ogoszenia nowych podatnoci CVE, stawowi list mailingow o bezpieczestwie dla tych dystrybucji kt贸re wasnych nie posiadaj lub czasem gdy dyskusj trzeba przenie w miejsce gdzie maintainer nie ma wadzy ucicia &#8222;bo tak&#8221;. Mo偶na skorzysta tak偶e z RSS, ale majc maile mo偶na prociej wczy si w dyskusj i co raz tam si znajdzie ju偶 nie zginie &#8211; zwaszcza jak komu wymsknie si kod exploita 
  * **GLSA**(Gentoo Linux Security Advisory) &#8211;[https://wiki.gentoo.org/wiki/GLSA  
][1] Rzeczy czciowo specyficzne dla gentoo, ale 偶e Gentoo atane jest z podobn szybkoci co RedHat czy Debian wic do szybko wiadomo kiedy krytycznym jest zainstalowanie patchy. Poza uwiadomieniem sobie bardziej jak niekt贸re pakiety s dziurawe mo偶na te偶 pozna nowe gdy偶 ka偶da dziurawa paczka jest opisana co robi i na czym polega podatno.
  * **SecurityFocus** &#8211; <http://www.securityfocus.com/archive> &#8211; zwaszcza polecam **BugTraq**, gdzie dyskutowane s wszelakie podatnoci w systemach UNIXowych, Windowsowych i og贸lnych teleinformatycznych; jedna z najstarszych

Mam obie wrzucone z automatu do folderu kt贸ry kasuje maile starsze ni偶 miesic wic nie zamiecaj inboxa, ale s te偶 zawsze pod rk &#8211; gotowe do forwardnicia.

&nbsp;

Drobna aktualizacja: midzy innymi za spos贸b obejcia si z t dziur **systemd [otrzymao][2]nagrod Pwnie Security Award w kategorii_Lamest Vendor_** xD

 [1]: https://wiki.gentoo.org/wiki/GLSA
 [2]: https://pwnies.com/nominations/